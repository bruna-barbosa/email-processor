{
  "steps": [
    { "id": 1, "label": "Start" },
    { "id": 2, "label": "Check if email contains a table" },
    { "id": 3, "label": "Extract table from email body" },
    { "id": 4, "label": "Convert table to .csv" },
    { "id": 5, "label": "Create .zip file with date stamp" },
    { "id": 6, "label": "Get filename from RSOEUR_Master.dbo.InputFilesMatchingRules" },
    { "id": 7, "label": "Store .zip file in /Input folder" },
    { "id": 10, "label": "Connect to Database" },
    { "id": 11, "label": "Authenticate Email Server" },
    { "id": 12, "label": "Fetch Emails" },
    { "id": 13, "label": "Process Emails" },
    { "id": 14, "label": "Parse Email Data" },
    { "id": 15, "label": "Execute Stored Procedure" },
    { "id": 16, "label": "Handle Database Errors" },
    { "id": 17, "label": "Insert Data into Database" },
    { "id": 18, "label": "Handle Database Errors" },
    { "id": 19, "label": "Mark Email as Processed" },
    { "id": 20, "label": "Log Processing Status" },
    { "id": 21, "label": "Continue or End" },
    { "id": 22, "label": "Close Connections" },
    { "id": 23, "label": "End" }
  ],
  "connections": [
    { "from": 1, "to": 2 },
    { "from": 2, "to": 3, "label": "Yes" },
    { "from": 2, "to": 10, "label": "No" },
    { "from": 3, "to": 4 },
    { "from": 4, "to": 5 },
    { "from": 5, "to": 6 },
    { "from": 6, "to": 7 },
    { "from": 7, "to": 10 },
    { "from": 10, "to": 11 },
    { "from": 11, "to": 12 },
    { "from": 12, "to": 13 },
    { "from": 13, "to": 14 },
    { "from": 14, "to": 15 },
    { "from": 15, "to": 16 },
    { "from": 16, "to": 17 },
    { "from": 17, "to": 18 },
    { "from": 18, "to": 19 },
    { "from": 19, "to": 20 },
    { "from": 20, "to": 21 },
    { "from": 21, "to": 12, "label": "if more emails" },
    { "from": 21, "to": 22, "label": "if no more emails" }
  ],
  "error_handling": [
    { "from": 10, "to": 22, "label": "on connection error" },
    { "from": 11, "to": 22, "label": "on email server error" },
    { "from": 12, "to": 22, "label": "on email fetching error" },
    { "from": 13, "to": 22, "label": "on email processing error" },
    { "from": 14, "to": 22, "label": "on email parsing error" },
    { "from": 15, "to": 22, "label": "on stored procedure error" },
    { "from": 16, "to": 22, "label": "on database error" },
    { "from": 17, "to": 22, "label": "on data insertion error" },
    { "from": 18, "to": 22, "label": "on database error" }
  ]
}
